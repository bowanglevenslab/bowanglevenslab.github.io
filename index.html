<!DOCTYPE html>
<html>
    <style>
        #myDiv {
            border: 3px dashed orange;
        }
    </style>
    <body>
        <h1> Mechnistic Nanopore Pipeline </h1>
        <hr>
        <h2> Preprocessing </h2>
        <pre>
            1. All-in-one analysis
            
            <label for="guppy_protocol"> raw signal basecalling - decomplexing - debarcoding - alignment:</label>
            <div id="myDiv">
                guppy_basecaller -c configuration_file  --barcode_kits library -i input_fast5 -s orgnized_output --align_ref reference_genome  -x GPU_setting --records_per_fastq 0 --compress_fastq
            </div>
            <label for="format converting"> file merging and converting:</label>
            <div id="myDiv">
                samtools view -H *bam > allSeq.sam
                find ./ -name \*.bam -exec samtools view {} \; >> allSeq.sam
                samtools view -bh allSeq.sam > allSeq.bam
            </div>
            
            2. Track Generation and Conversion
            
            <label for="fasta2bam&cram">fasta2bam&cram:</label>
            <div id="myDiv">
                samtools view -T input.fasta -C -o output.cram output.bam
            </div>
            
            <label for="bam2bedgraph">fasta2cram:</label>
            <div id="myDiv">
                bedtools genomecov -bg -ibam bam_input -g reference > output_bedGraph
            </div>
            
            <label for="bedgraph2bigwig">bedgraph2bigwig:</label>
            <div id="myDiv">
                bedGraph2bigWig input.sort.bam chrome.size output.bw
            </div>
            
        </pre>
        </p>
        <h2> Visulization and Filtering </h2>
        <p>
        </p>
        
        
        <div id="options">
            <h2>Genomic Data Visulization</h2>
            <h3>File Select</h3>
            <label>Select Input Bam File: <span class="important">*</span></label>
            <input type="file" id="Bam-load" />
            <br />
            <label>Select Ref FASTA File:</label>
            <input type="file" id="fasta-load" />
            <br />
            <button id="load-files">Load Bam</button>
            <br />

            <h3> Binning Options</h3>
            <div>
              <input type="radio" id="linear-option" name="yaxis" checked="true" />
              <label for="linear-option">Count (Y-axis Linear Scale)</label>
            </div>
            <div>
              <input type="radio" id="log-option" name="yaxis" />
              <label for="log-option">Count (Y-axis Log Scale)</label>
            </div>
            <div>
              <input type="radio" id="x-binning" name="yaxis" />
              <label for="x-binning">x-binning</label>
            </div>
            <h3>Range of Data</h3>
            <div id="range-selector">
              <span>Range: </span>
              <input type="number" id="lower-bound" min="0" max="0" />
              <span>-</span>
              <input type="number" id="upper-bound" min="0" max="0" />
            </div>
            
            
            <h2> Downstream Pipeline </h2>
            <p>
            "Under developement"
            </p>
            
            <h2> References </h2>
            <p><a href="https://community.nanoporetech.com/protocols/Guppy-protocol">1. Guppy-protocol</a></p>
            <p><a href="https://htslib.org">2. Samtools </a></p>
            <p><a href="https://bedtools.readthedocs.io/en/latest/">3. bedtools </a></p>
            <p><a href="https://www.encodeproject.org/software/bedgraphtobigwig/">4. bedgraphtobigwig </a></p>
            
    </body>
</html>
